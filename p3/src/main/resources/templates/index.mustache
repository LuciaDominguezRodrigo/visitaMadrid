<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Jardines del Campo del Moro</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Dyslexic&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-fondo: #f5f5f5;
            --color-texto: #2e2e2e;
            --color-primario: #0072b2;
            --color-secundario: #e69f00;
            --color-destacado: #009e73;
            --color-contraste-fondo: #000;
            --color-contraste-texto: #fff;
        }

        body {
            font-family: "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-fondo);
            color: var(--color-texto);
            line-height: 1.6;
        }

        body.dyslexic {
            font-family: 'Open Dyslexic', Arial, sans-serif;
        }

        body.high-contrast {
            background-color: var(--color-contraste-fondo);
            color: var(--color-contraste-texto);
        }

        body.high-contrast input,
        body.high-contrast textarea,
        body.high-contrast section {
            background-color: #000;
        }

        body.high-contrast h2,
        body.high-contrast label,
        body.high-contrast p {
            color: #fff;
        }

        body.high-contrast select,
        body.high-contrast button {
            background-color: #000;
            color: #fff;
            border: 1px solid #fff;
        }

        body.high-contrast input::placeholder,
        body.high-contrast textarea::placeholder {
            color: #ccc;
        }

        header {
            background: linear-gradient(90deg, var(--color-primario), var(--color-secundario));
            color: white;
            padding: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
        }

        header p {
            font-size: 1rem;
            margin: 0.5rem 0;
        }

        nav {
            margin-top: 1rem;
        }

        nav a {
            color: white;
            margin: 0 1rem;
            text-decoration: none;
            font-size: 1rem;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav a:hover {
            background-color: var(--color-secundario);
        }

        .access-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem;
        }

        .access-buttons button {
            padding: 0.5rem 1rem;
            font-size: 1rem;
            border: none;
            background-color: var(--color-destacado);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .access-buttons button:hover {
            background-color: var(--color-secundario);
        }

        main {
            max-width: 1000px;
            margin: auto;
            padding: 2rem 1rem;
        }

        section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        h2 {
            color: var(--color-primario);
        }

        img, video {
            width: 100%;
            border-radius: 10px;
            margin-top: 1rem;
        }

        form {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-top: 1rem;
            font-weight: bold;
        }

        input, textarea, button {
            padding: 0.75rem;
            font-size: 1rem;
            margin-top: 0.5rem;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        input:focus, textarea:focus, button:focus {
            outline: 3px solid #8ecae6;
            outline-offset: 2px;
        }

        button[type="submit"] {
            background-color: var(--color-primario);
            color: white;
            margin-top: 1.5rem;
        }

        footer {
            text-align: center;
            background: linear-gradient(90deg, var(--color-primario), var(--color-secundario));
            color: white;
            padding: 1.5rem 1rem;
        }

        .validation img {
            margin-top: 1rem;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                transition: none !important;
            }
        }
    </style>
</head>

<body>
<header role="banner">
    <h1>Jardines de Sabatini del Campo del Moro</h1>
    <p>Un oasis histórico junto al Palacio Real de Madrid</p>
    <nav aria-label="Navegación principal">
        <a href="#descripcion">Descripción</a>
        <a href="#galeria">Galería</a>
        <a href="#postal">Enviar postal</a>
    </nav>
</header>

<div class="access-buttons" aria-label="Opciones de accesibilidad">
    <button onclick="toggleDyslexicFont()">Fuente Disléxica</button>
    <button onclick="toggleContrast()">Alto Contraste</button>
</div>

<main role="main">
    <section id="descripcion" aria-labelledby="desc-title">
        <h2 id="desc-title">Historia y belleza natural</h2>
        <p>Los Jardines de Sabatini y el Campo del Moro, situados al oeste del Palacio Real de Madrid, ofrecen una vista majestuosa y única. Su nombre proviene de una tentativa musulmana de reconquistar Madrid en el siglo XII. Diseñados en el siglo XIX en estilo romántico inglés, estos jardines son ideales para pasear entre fuentes, pavos reales y naturaleza.</p>
    </section>

    <section id="galeria" aria-labelledby="galeria-title">
        <h2 id="galeria-title">Galería</h2>
        <img src="https://www.nochemad.com/photos/jardines-de-sabatini_img:v2931.jpg" alt="Vista de los Jardines del Campo del Moro con el Palacio Real al fondo" />
        <iframe
                width="560"
                height="315"
                src="https://www.youtube.com/embed/JyNcxQftlIk"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                title="Video panorámico de los Jardines del Campo del Moro"
                aria-label="Reproducción de video panorámico sobre los Jardines del Campo del Moro"
                style="display: block; margin-left: auto; margin-right: auto;">
        </iframe>
    </section>

    <section id="postal" aria-labelledby="postal-title">
        <h2 id="postal-title">Envía una postal virtual</h2>
        <form id="postalForm" action="/enviar" method="POST" enctype="multipart/form-data" aria-describedby="form-desc">
            <p id="form-desc">Simula el envío de una postal desde los Jardines del Campo del Moro.</p>

            <label for="nombre">Tu nombre</label>
            <input type="text" id="nombre" name="nombre" required aria-required="true" />

            <label for="email">Correo del destinatario</label>
            <input type="email" id="email" name="email" required aria-required="true" />

            <label for="titulo">Titulo</label>
            <input type="text" id="titulo" name="titulo" required aria-required="true" />

            <label for="mensaje">Mensaje</label>
            <textarea id="mensaje" name="mensaje" rows="4" required></textarea>

            <label for="imagen">Imagen (opcional)</label>
            <input type="file" id="imagen" name="imagen" accept="image/*" />

            <button type="submit">Enviar postal</button>
        </form>
    </section>



</main>

<footer role="contentinfo">
    <p>&copy; 2025 Jardines del Campo del Moro - Madrid</p>
    <div class="validation">
        <a href="https://validator.w3.org/" target="_blank" rel="noopener">
            <img src="https://www.w3.org/Icons/valid-html401" alt="HTML válido por W3C" style="width: 50px; height: auto;"/>
        </a>
    </div>
</footer>

<script>
    function toggleDyslexicFont() {
        document.body.classList.toggle("dyslexic");
    }

    function toggleContrast() {
        document.body.classList.toggle("high-contrast");
    }

    document.getElementById("postalForm").addEventListener("submit", async function(event) {
        event.preventDefault(); 

        const form = event.target;
        const formData = new FormData(form);

        const response = await fetch("/enviar", {
            method: "POST",
            body: formData
        });

        if (response.redirected) {
            alert("¡Postal enviada con éxito!");
            window.location.href = response.url;
        } else {
            alert("Hubo un error al enviar la postal.");
        }
    });
</script>
</body>